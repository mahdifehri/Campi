{% extends 'base-back.html.twig' %}

{% block title %}Hello BackPostController!{% endblock %}

{% block body %}
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Striped Table</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th> ID </th>
                            <th> ID_User </th>
                            <th> Image </th>
                            <th> Titre </th>
                            <th> Contenu </th>
                            <th> Etat </th>
                            <th> Valider </th>
                            <th> Refuser </th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for post in posts %}
                            <tr>
                                <td> {{ post.id }} </td>
                                <td> {{ post.idUser }} </td>

                                <td class="py-1">
                                    <img src="{{ post.image }}" alt=" {{ post.image }}">
                                </td>
                                <td> {{ post.titre }} </td>
                                <td> {{ post.contenu }} </td>
                                {% if post.etat == 0 %}
                                    <td><label class="badge badge-warning">En cours</label></td>
                                {% elseif post.etat == 1 %}
                                    <td><label class="badge badge-success">validé</label></td>
                                {% else %}
                                    <td><label class="badge badge-danger">Refusé</label></td>
                                {% endif %}
                                <td><a href="{{ path('backpost_valide', {"id": post.id}) }}"><i class="mdi mdi-check-circle" style="color:mediumseagreen"></i></a></td>
                                <td><a href="{{ path('backpost_refuse', {"id": post.id}) }}"><i class="mdi mdi-close-circle" style="color:red"></i></a></td>
                                <!--class="mdi mdi-check-circle,,,,mdi mdi-close-circle"-->

                            </tr>
                        {% endfor%}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
